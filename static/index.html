<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Word Test Extractor ‚Äî Web UI</title>
    <link rel="stylesheet" href="/static/css/base.css" />
    <link rel="stylesheet" href="/static/css/layout.css" />
    <link rel="stylesheet" href="/static/css/components.css" />
    <link rel="stylesheet" href="/static/css/editor.css" />
    <link rel="stylesheet" href="/static/css/theme.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
      defer
    ></script>
    <script type="module" src="/static/js/app.js"></script>
  </head>
  <body>
    <header class="app-header">
      <div class="app-header__content">
        <div>
          <h1>Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h1>
          <p>
            –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ –≤
            –±—Ä–∞—É–∑–µ—Ä–µ.
          </p>
        </div>
        <div class="app-header__controls">
          <label class="theme-toggle" for="theme-toggle">
            <span class="theme-toggle__label">üåû / üåô</span>
            <input
              id="theme-toggle"
              class="theme-toggle__input"
              type="checkbox"
              role="switch"
              aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç—ë–º–Ω—É—é —Ç–µ–º—É"
            />
            <span class="theme-toggle__slider" aria-hidden="true"></span>
          </label>
        </div>
      </div>
    </header>

    <main class="app">
      <section id="screen-management" class="app-screen is-active">
        <section class="panel panel--management">
          <div class="card card--collections">
            <h2>–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤</h2>
            <div class="controls">
              <div id="test-cards" class="test-collections">
                <button type="button" class="test-card test-card--new">
                  <strong>–ù–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</strong>
                  <span class="muted"
                    >–°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π —Ç–µ—Å—Ç –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é.</span
                  >
                </button>
                <button type="button" class="test-card test-card--import">
                  <strong>–ò–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–∞</strong>
                  <span class="muted"
                    >–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ Word-—Ñ–∞–π–ª–∞.</span
                  >
                </button>
              </div>
            </div>
          </div>
        </section>
      </section>

      <section id="screen-testing" class="app-screen is-hidden">
        <section class="panel panel--controls">
          <div class="card">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞</h2>
            <div class="settings-grid">
              <div class="settings-item">
                <label for="setting-question-count">
                  –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ (0 = –≤—Å–µ)
                </label>
                <input
                  type="number"
                  id="setting-question-count"
                  min="0"
                  value="0"
                />
              </div>

              <div class="settings-item">
                <label for="setting-max-options">–ú–∞–∫—Å. –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞</label>
                <input
                  type="number"
                  id="setting-max-options"
                  min="1"
                  value="4"
                />
              </div>

              <label
                class="checkbox-row settings-item settings-item--checkbox"
                for="setting-random-questions"
              >
                <input type="checkbox" id="setting-random-questions" />
                <span>–°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤</span>
              </label>
              <label
                class="checkbox-row settings-item settings-item--checkbox"
                for="setting-random-options"
              >
                <input type="checkbox" id="setting-random-options" />
                <span>–°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤</span>
              </label>
              <label
                class="checkbox-row settings-item settings-item--checkbox"
                for="setting-only-unanswered"
              >
                <input type="checkbox" id="setting-only-unanswered" />
                <span>–¢–æ–ª—å–∫–æ –Ω–µ—Ä–µ—à—ë–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</span>
              </label>
              <label
                class="checkbox-row settings-item settings-item--checkbox"
                for="setting-show-answers"
              >
                <input type="checkbox" id="setting-show-answers" checked />
                <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É</span>
              </label>
            </div>
            <button id="start-test" class="primary" type="button">
              –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            </button>
            <p class="hint" id="progress-hint"></p>
          </div>

          <div class="card">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <p id="result-summary">–ï—â—ë –Ω–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫.</p>
            <ul id="result-details" class="result-details"></ul>
          </div>
        </section>

        <section class="panel panel--test">
          <div class="card question-header">
            <div>
              <h2 id="question-progress">–í–æ–ø—Ä–æ—Å 0 –∏–∑ 0</h2>
              <p id="question-status" class="muted"></p>
            </div>
            <div class="question-actions">
              <button id="exit-test" type="button" class="ghost">
                –í—ã–π—Ç–∏
              </button>
              <button id="prev-question" type="button">–ù–∞–∑–∞–¥</button>
              <button id="next-question" type="button">–î–∞–ª—å—à–µ</button>
              <button id="finish-test" type="button" class="danger">
                –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç
              </button>
            </div>
          </div>

          <div id="question-container" class="card"></div>
          <div id="options-container" class="card is-hidden"></div>

          <div class="card">
            <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º</h3>
            <div id="question-nav" class="question-nav"></div>
          </div>
        </section>
      </section>
    </main>

    <div id="editor-modal" class="modal" aria-hidden="true">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h2>–†–µ–¥–∞–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤</h2>
            <p class="muted" id="editor-status">
              –í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π.
            </p>
          </div>
          <div class="modal-actions">
            <button id="editor-rename-test" type="button" class="secondary">
              –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ç–µ—Å—Ç
            </button>
            <button id="editor-delete-test" type="button" class="danger">
              –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç
            </button>
            <button id="close-editor" type="button" class="ghost">
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        </div>

        <div class="modal-grid">
          <div class="modal-panel editor-column editor-column--list">
            <h3>–°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
            <div id="editor-question-list" class="editor-list"></div>
          </div>

          <div class="modal-panel editor-column editor-column--form">
            <div id="editor-panel" class="editor-panel editor-panel--form">
              <h3 id="editor-form-title">–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</h3>
              <form id="editor-form" class="editor-form">
                <label class="editor-field">
                  <span>–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</span>
                  <textarea id="editor-question-text" rows="4"></textarea>
                  <p class="hint">
                    –í—Å—Ç–∞–≤–ª—è–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ {{image:ID}} –∏ {{formula:ID}}
                  </p>
                </label>

                <div class="editor-options">
                  <div class="editor-options-header">
                    <h4>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤</h4>
                    <button id="add-option" type="button" class="ghost">
                      –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
                    </button>
                  </div>
                  <p class="hint">
                    –í—Å—Ç–∞–≤–ª—è–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ {{image:ID}} –∏ {{formula:ID}}
                  </p>
                  <div
                    id="editor-options-list"
                    class="editor-options-list"
                  ></div>
                </div>

                <div class="editor-actions">
                  <button id="save-question" type="submit">
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                  </button>
                  <button id="reset-editor" type="button" class="ghost">
                    –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
                  </button>
                </div>
              </form>

              <div class="editor-objects-panel">
                <h4>–û–±—ä–µ–∫—Ç—ã –≤–æ–ø—Ä–æ—Å–∞</h4>
                <p class="muted">
                  –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º—É–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ –≤–æ–ø—Ä–æ—Å–∞ –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤.
                </p>
                <div class="editor-object-toggles">
                  <button
                    id="toggle-editor-objects"
                    type="button"
                    class="editor-object-toggle"
                  >
                    –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã
                  </button>
                  <button
                    id="toggle-editor-object-upload"
                    type="button"
                    class="editor-object-toggle"
                  >
                    –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç
                  </button>
                </div>
                <div
                  id="editor-object-upload-section"
                  class="editor-object-section editor-object-upload is-hidden"
                >
                  <div class="editor-object-upload__header">
                    <strong>–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</strong>
                    <p class="muted">
                      –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—ä–µ–∫—Ç, –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ ID –≤
                      —Ç–µ–∫—Å—Ç–µ.
                    </p>
                  </div>
                  <label class="editor-field">
                    <span>–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞</span>
                    <select id="editor-object-type">
                      <option value="image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</option>
                      <option value="formula">–§–æ—Ä–º—É–ª–∞ (XML)</option>
                    </select>
                  </label>
                  <label class="editor-field">
                    <span>ID –æ–±—ä–µ–∫—Ç–∞</span>
                    <input id="editor-object-id" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, img-1" />
                  </label>
                  <div id="editor-object-image-fields" class="editor-field">
                    <span>–§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (png, jpg, wmf, emf)</span>
                    <label
                      class="editor-object-dropzone"
                      for="editor-object-image-file"
                    >
                      <span class="editor-object-dropzone__title">
                        –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—é–¥–∞
                      </span>
                      <span class="editor-object-dropzone__hint">
                        –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                      </span>
                      <span class="editor-object-dropzone__action">
                        –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                      </span>
                    </label>
                    <input
                      id="editor-object-image-file"
                      type="file"
                      class="editor-object-input"
                    />
                  </div>
                  <div id="editor-object-formula-fields" class="editor-field is-hidden">
                    <span>XML —Ñ–æ—Ä–º—É–ª—ã</span>
                    <textarea id="editor-object-formula-text" rows="4" placeholder="<math>...</math>"></textarea>
                    <span class="muted">–∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ XML —Ñ–∞–π–ª</span>
                    <label
                      class="editor-object-dropzone"
                      for="editor-object-formula-file"
                    >
                      <span class="editor-object-dropzone__title">
                        –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ XML —Ñ–∞–π–ª —Å—é–¥–∞
                      </span>
                      <span class="editor-object-dropzone__hint">
                        –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                      </span>
                      <span class="editor-object-dropzone__action">
                        –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                      </span>
                    </label>
                    <input
                      id="editor-object-formula-file"
                      type="file"
                      accept=".xml"
                      class="editor-object-input"
                    />
                  </div>
                  <button id="editor-add-object" type="button" class="secondary">
                    –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç
                  </button>
                  <p id="editor-object-status" class="muted"></p>
                </div>
                <div
                  id="editor-object-list-section"
                  class="editor-object-section is-hidden"
                >
                  <div id="editor-objects" class="object-list">
                    <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–±—ä–µ–∫—Ç—ã.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="import-modal" class="modal" aria-hidden="true">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h2>–ò–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤</h2>
            <p class="muted">–ó–∞–≥—Ä—É–∑–∏—Ç–µ Word-—Ñ–∞–π–ª –∏ –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é.</p>
          </div>
          <div class="modal-actions">
            <button id="close-import" type="button" class="ghost">
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        </div>
        <form id="upload-form" class="upload-form">
          <div id="upload-dropzone" class="upload-dropzone is-empty">
            <div class="upload-dropzone__area">
              <div class="upload-dropzone__icon" aria-hidden="true">‚≠≥</div>
              <div class="upload-dropzone__content">
                <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ Word-—Ñ–∞–π–ª —Å—é–¥–∞</p>
                <p class="muted">–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</p>
              </div>
            </div>
            <div id="upload-file-name" class="upload-file-name is-empty">
              <span class="upload-file-name__label">–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª</span>
              <span class="upload-file-name__value">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
            </div>
            <div class="upload-dropzone__actions">
              <label class="upload-select-button" for="upload-file">
                –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
              </label>
              <button
                id="upload-clear-file"
                type="button"
                class="upload-clear-button"
                disabled
              >
                –û—á–∏—Å—Ç–∏—Ç—å
              </button>
              <span class="upload-hint">–¢–æ–ª—å–∫–æ .docx</span>
            </div>
            <input
              type="file"
              id="upload-file"
              class="upload-input"
              accept=".docx"
              required
            />
          </div>
          <div class="upload-actions">
            <label class="upload-field" for="upload-symbol">
              <span>–ú–∞—Ä–∫–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞</span>
              <input type="text" id="upload-symbol" name="symbol" />
            </label>
            <label class="upload-checkbox" for="upload-log-small-tables">
              <input type="checkbox" id="upload-log-small-tables" />
              <span>–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã &lt; 3 —Å—Ç—Ä–æ–∫</span>
            </label>
            <button type="submit">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
          </div>
        </form>
        <div class="upload-logs-panel">
          <h3>–õ–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞</h3>
          <ul id="upload-logs" class="upload-logs"></ul>
        </div>
      </div>
    </div>

    <div id="create-test-modal" class="modal" aria-hidden="true">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h2>–ù–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</h2>
            <p class="muted">–ó–∞–¥–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –Ω–∞—á–Ω–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã.</p>
          </div>
          <div class="modal-actions">
            <button id="close-create-test" type="button" class="ghost">
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        </div>
        <form id="create-test-form" class="create-test-form">
          <label class="upload-field" for="create-test-title">
            <span>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</span>
            <input
              type="text"
              id="create-test-title"
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ê–ª–≥–µ–±—Ä–∞ ‚Äî –±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å"
              required
            />
          </label>
          <div class="create-test-actions">
            <button type="submit">–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é</button>
            <button id="cancel-create-test" type="button" class="secondary">
              –û—Ç–º–µ–Ω–∞
            </button>
          </div>
          <p id="create-test-status" class="muted"></p>
        </form>
      </div>
    </div>
  </body>
</html>
